# 딜러 데스크 서버 - 윈도우 빌드 가이드

이 문서는 딜러 데스크 서버를 윈도우 환경에서 빌드하고 실행하는 방법을 설명합니다.

## 필요 사항

- Python 3.8 이상
- pip (Python 패키지 관리자)
- Windows 10 이상

## 설치 방법

1. 필요한 패키지 설치:

```bash
pip install -r requirements.txt
```

## 윈도우 애플리케이션 빌드

### 1. 아이콘 생성

먼저 애플리케이션 아이콘을 생성합니다:

```bash
python create_icon.py
```

이 명령어는 `assets` 폴더에 `dealer_desk_icon.ico` 파일을 생성합니다.

### 2. 애플리케이션 빌드

다음 명령어로 윈도우 애플리케이션을 빌드합니다:

```bash
python build_windows.py --icon assets/dealer_desk_icon.ico
```

옵션:
- `--onefile`: 단일 실행 파일로 빌드 (기본값: 폴더 형태)
- `--console`: 콘솔 창 표시 (기본값: 숨김)
- `--icon`: 아이콘 파일 경로

빌드가 완료되면 `dist/DealerDeskServer` 폴더에 실행 파일이 생성됩니다.

## 실행 방법

### 개발 환경에서 실행

트레이 애플리케이션을 실행하려면:

```bash
python win_tray_app.py
```

### 빌드된 애플리케이션 실행

빌드된 애플리케이션은 `dist/DealerDeskServer` 폴더에 있는 `DealerDeskServer.exe` 파일을 실행하면 됩니다.

## 기능

- 시스템 트레이에 아이콘 표시
- 서버 상태 표시 (실행 중/중지됨)
- 서버 시작/중지 제어
- 웹 인터페이스 접근
- 로그 확인
- 설정 관리 (자동 시작, 브라우저 자동 열기)

## 트레이 아이콘 메뉴

- **시작/중지**: 서버를 시작하거나 중지합니다.
- **웹 인터페이스 열기**: 브라우저에서 웹 인터페이스를 엽니다.
- **설정**:
  - **자동 시작**: 애플리케이션 실행 시 서버 자동 시작 여부
  - **브라우저 자동 열기**: 서버 시작 시 브라우저 자동 열기 여부
- **로그 보기**: 로그 파일을 엽니다.
- **종료**: 애플리케이션을 종료합니다.

## 문제 해결

### 서버가 시작되지 않는 경우

1. 로그 파일 확인: `dealer_desk.log` 파일에서 오류 메시지 확인
2. 포트 충돌 확인: 401번과 3000번 포트가 다른 프로그램에서 사용 중인지 확인
3. 필요한 파일이 모두 있는지 확인

### 트레이 아이콘이 표시되지 않는 경우

1. 작업 관리자에서 `DealerDeskServer.exe` 프로세스가 실행 중인지 확인
2. 시스템 트레이 영역 설정 확인

## 로그 파일

애플리케이션 로그는 `dealer_desk.log` 파일에 기록됩니다. 문제가 발생했을 때 이 파일을 확인하면 원인을 파악하는 데 도움이 됩니다. 